var service = "";var viewModel = "";var tmpIMG$(function() {	$("#objImg").hide();	service = new ParticipanteService();	viewModel = new ParticipanteViewModel();	$('#cboHierarquia').change(function() {		var valorID = $('#cboHierarquia').val();		setHieraiquia(valorID);	}).trigger('click');	$("#cmdSalvar").click(function() {		Salvar();	}).trigger('change');	$('#optPropagandaMedica').on('click', function() {		if ($(this).is(':checked')) {			viewModel.txtPropagandaMedica("s");		} else {			viewModel.txtPropagandaMedica("n");		}	});	$('#optHospitalar').on('click', function() {		if ($(this).is(':checked')) {			viewModel.txtHospitalar("s");		} else {			viewModel.txtHospitalar("n");		}	});	$('#optAcesso').on('click', function() {		if ($(this).is(':checked')) {			viewModel.txtAcesso("s");		} else {			viewModel.txtAcesso("n");		}	});	$('#optVarejo').on('click', function() {		if ($(this).is(':checked')) {			viewModel.txtVarejo("s");		} else {			viewModel.txtVarejo("n");		}	});	$('#optConsumer').on('click', function() {		if ($(this).is(':checked')) {			viewModel.txtConsumer("s");		} else {			viewModel.txtConsumer("n");		}	});	$("#txtImg").on("change", function() {		var files = !!this.files ? this.files : [];		if (!files.length || !window.FileReader)			return;		var filename = $("#txtImg").val().replace(/C:\\fakepath\\/i, '')		var testeFile = testaArquivo(filename);		if (testeFile == true) {			if (/^image/.test(files[0].type)) {				var reader = new FileReader();				reader.readAsDataURL(files[0]);				reader.onload = function() {					tmpIMG = files[0];					$("#objImg").attr("src", this.result);					$("#objImg").show();				}			} else {				$("#objImg").hide();				$("#objImg").attr("src", "");				alert("Arquivo invalido");				$("#txtImg").val();				tmpIMG = "";			}		}	});});function testaArquivo(str) {	var res = str.split(".");	var tamanho = res.length;	var teste = true;	if (tamanho > 1) {		var posicao = tamanho - 1;		var ext = res[posicao];		if (ext != "jpg") {			teste = false;		}	} else {		var teste = false;	}	return teste;}function setHieraiquia(id) {	viewModel.setHierarquia(id);}function Salvar() {	viewModel.txtID("0")	viewModel.txtNomeCompleto($("#txtNomeCompleto").val());	viewModel.txtNomeCracha($("#txtNomeCracha").val());	viewModel.txtNomeEmpresa($("#txtNomeEmpresa").val());	viewModel.txtCargo($("#txtCargo").val());	viewModel.txtDataNascimento($("#txtDataNascimento").val());	viewModel.txtEndereco($("#txtEndereco").val());	viewModel.txtEmailProfissional($("#txtEmailProfissional").val());	viewModel.txtEmailPessoal($("#txtEmailPessoal").val());	viewModel.txtTelefone($("#txtTelefone").val());	viewModel.txtCelular($("#txtCelular").val());	viewModel.txtOutro($("#txtOutro").val());	viewModel.txtMusica($("#txtMusica").val());	viewModel.txtLugar($("#txtLugar").val());	participante = viewModel.getOBject()	var resultadoValidacao = validar();	if (resultadoValidacao == true) {		if (tmpIMG == "") {			service.salvarSIMG(participante);		} else {			service.salvar(tmpIMG, participante);		}	}}function finalizaEnvio(retorno) {	alert(retorno.menssagem);}function validar() {	var teste = verificaValor("txtNomeCompleto");	if (teste != true) {		alert("Preencha o campo com o nome completo !");		return false;	}	var teste = verificaValor("txtCargo");	if (teste != true) {		alert("Preencha o   campo com o seu cargo !");		return false;	}	var teste = verificaValor("txtEmailProfissional");	if (teste != true) {		alert("Preencha o   campo com o seu email profissional !");		return false;	}	var teste = verificaValor("txtTelefone");	if (teste != true) {		alert("Preencha o campo com o seu telefone !");		return false;	}	var teste = verificaValor("txtOutros");	var testechk = testarChkbox();	if (teste != true && testechk != true) {		alert("Defina pelo meno uma Ã¡rea de responsabilidade !");		return false;	}	return true;}function testarChkbox() {	teste1 = $("#optPropagandaMedica").is(':checked');	teste2 = $("#optHospitalar").is(':checked');	teste3 = $("#optAcesso").is(':checked');	teste4 = $("#optAcesso").is(':checked');	teste5 = $("#optConsumer").is(':checked');	if (teste1 == true || teste2 == true || teste3 == true || teste4 == true			|| teste5) {		return true;	} else {		return false;	}}function verificaValor(id) {	var valor = $("#" + id).val();	var txtValor = new String(valor);	if (txtValor.trim() == "") {		return false;	} else {		return true;	}}